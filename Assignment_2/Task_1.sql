ALTER TABLE HR.PROJECT
ADD CONSTRAINT FK_Project_Employee FOREIGN KEY (EMPSSN) REFERENCES HR.EMPLOYEE(SSN);
GO

ALTER TABLE HR.EMPLOYEE
ALTER COLUMN EMAIL VARCHAR(150);
GO

ALTER TABLE HR.PROJECT
DROP CONSTRAINT FK_Project_Employee;
GO

INSERT INTO HR.DEPARTMENT (DNUM, DNAME, CITY) VALUES
(1, 'HR', 'Cairo'),
(2, 'IT', 'Alexandria'),
(3, 'Finance', 'Giza');

INSERT INTO HR.EMPLOYEE (SSN, FNAME, LNAME, BIRTHDATE, GENDER, DEPTNUM) VALUES
(1001, 'Ahmed', 'Hassan', '1990-05-12', 'M', 1),
(1002, 'Sara', 'Ali', '1995-03-20', 'F', 1),
(1003, 'Omar', 'Nabil', '1988-11-02', 'M', 2),
(1004, 'Mona', 'Ibrahim', '1993-07-08', 'F', 2),
(1005, 'Youssef', 'Mahmoud', '1997-09-15', 'M', 3);

UPDATE HR.DEPARTMENT SET MANAGESSN = 1001 WHERE DNUM = 1;
UPDATE HR.DEPARTMENT SET MANAGESSN = 1003 WHERE DNUM = 2;
UPDATE HR.DEPARTMENT SET MANAGESSN = 1005 WHERE DNUM = 3;

INSERT INTO HR.PROJECT (PNUM, PNAME, CITY, EMPSSN, DNUM) VALUES
(101, 'Project A', 'Cairo', 1001, 1),
(102, 'Project B', 'Alexandria', 1003, 2),
(103, 'Project C', 'Giza', 1005, 3);

INSERT INTO HR.WORK_ON (SSN, PNUM, HOURSWORKED) VALUES
(1001, 101, 20.5),
(1002, 101, 15.0),
(1003, 102, 25.0),
(1004, 102, 30.0),
(1005, 103, 12.0);

INSERT INTO HR.DEPENDENT (SSN, DEPENDENTNAME, GENDER, BIRTHDATE) VALUES
(1001, 'Ali', 'M', '2010-05-01'),
(1002, 'Laila', 'F', '2012-11-03'),
(1003, 'Ziad', 'M', '2008-09-20');
